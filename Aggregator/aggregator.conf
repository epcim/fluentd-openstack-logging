<source>
    type forward                # Using in_forward. Can use in_secure_forward
    port 24220                  # 24224
    bind 10.0.0.12              # 0.0.0.0
    # backlog nil
    # linger_timeout 0            # 0
    # blocking_timeout 0.5
    # chunk_size_limit nil        # nil
    # chunk_size_warn_limit nil   #nil
    log_level trace # fatal, error, warn, info, debug, trace
</source>

# <filter>
    
# </filter>


# <match>
#     type stdout
# </match>


<match output.**>
    type forest
    subtype elasticsearch
    # remove_prefix
    <template>
        logstash_prefix ${tag_parts[1]}
        index_name ${tag_parts[1]}
        type_name ${tag_parts[2]}
        time_key timestamp
    </template>
</match>

<match out.**>
    type elasticsearch
    host 10.0.0.12
    port 9200
    logstash_format true
    # time_key timestamp
    # request_timeout 1s
    # flush_interval 3 DISCONTINUED
    # index_name  ${component}
    # type_name   ${subcomponent}
</match>
